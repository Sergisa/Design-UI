<html>
	<head>
		<link href="css/style.css" rel="stylesheet" type="text/css" />
	  	<link href="css/jquery-ui.min.css" rel="stylesheet" type="text/css"/>
		<meta charset="utf-8"/>
	  	<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<script src="js/scripts.js" type="text/javascript" language="javascript"></script>
		<script src="js/device.js" type="text/javascript" language="javascript"></script>
		<script src="js/classie.js" type="text/javascript" language="javascript"></script>
	  	<script src="js/jquery.js" type="text/javascript" language="javascript"></script> 
	  	<script src="js/draggabilly-master/dist/draggabilly.pkgd.js" type="text/javascript" language="javascript"></script> 
	  	<!--<script src="//vk.com/js/api/openapi.js" type="text/javascript"></script>-->
		<script src="js/jquery-ui.js"></script>
		<script>
        function  button1_Click(){  
			$.getJSON("file.json",function(data){
				document.title = data.title;
				$("#test").text(data.test);
			});
        }
		function Drop(e){
			var dt = e.dataTransfer;
			if(!dt && !dt.files) { return false ; }
		 
			// Получить список загружаемых файлов
			var files = dt.files;
		 
			// Fix для Internet Explorer
			dt.dropEffect="copy";
		 
			// Загрузить файлы по очереди, проверив их размер
			for (var i = 0; i < files.length; i++) {
				if (files[i].size<15000000) { 
					// Отправить файл в AJAX-загрузчик
					ajax_upload(files[i]);
				}
				else {
					alert('Размер файла превышает допустимое значение');
				}
			} 
			e.stopPropagation();
			e.preventDefault(); 
			console.log("dropped", e.dataTransfer);
			
			return false;
		}
		function dragIn(e){
			e.stopPropagation();
			e.preventDefault(); 
			console.log("dragged");
		}
		$(document).ready(function(){
			
			$("#dialog").dialog({
				resizable: true,
				grid: [30,15],
				autoOpen:false,
				modal: true,
				buttons: {
					"Delete all items": function() {
						$( this ).dialog( "close" );
					},
					Cancel: function() {
						$( this ).dialog( "close" );
					}
				}
			});
			//$('#drag_in').on('dragover', dragIn);
			//$('#drag_in').on('dragenter', dragIn);
			//$('#drag_in').on('drop', Drop);
			$('#slider').slider({max: 200, valueIndicator: true, animate: true});
			$("#dialog_opener").button();
			$("#dialog_opener").click(function(){
				$("#dialog").dialog("open");
			});
			$('#message_box').css("display","none");
			$(window).scroll(function(){
				$('#message_box').animate({top:$(window).scrollTop()+"px" },{queue: false, duration: 350});
			});
			$('#insert').click(function(){
				var input = $('#input').val();
				console.log(input);
				writeXML(input);
			});
			$('#close_image').click(function(){
				$('#message_box').animate({ top:"+=15px", opacity:0 }, "slow");
			});
			$('#datepicker').datepicker();
			$('#button3').click(function(){
				$('#message_box').css("display", "inline");
				$('#message_box').css("opacity", "1");
				$('#message_box').css("top", "0");
			});
			
		});
		</script>
		<title>проверка работы с JSON и XML</title>
		<meta charset="utf-8" />

	</head> 
	<body class="materialTheme">
		<h1>Trying Page</h1>
		<div id="dialog" title="jquery dialog">
			<p>These items will be permanently deleted and cannot be recovered. Are you sure?</p>
		</div>
		<p>
			<input type="submit" class="material darkbrown" style="" value="Click Me" onClick="button1_Click()" />
		</p>
		<div id="test"></div>
		<div id="demo"></div>
		<input type="button" class="roundmaterial cyanbutton" value="CLICK" onClick="readClick(this)" />
		<br/>
		<div class="tabs"> 
			<input id="tab1" type="radio" name="tabs" checked>
		 	<label for="tab1" title="Вкладка 1">Linux Buttons</label>  
		 	<input id="tab2" type="radio" name="tabs">
		 	<label for="tab2" title="Вкладка 2">Вкладка 2</label>  
		 	<input id="tab3" type="radio" name="tabs">
		 	<label for="tab3" title="Вкладка 3">Вкладка 3</label>  
		 	<input id="tab4" type="radio" name="tabs">
		 	<label for="tab4" title="Вкладка 4">Вкладка 4</label>  
		 	<section id="content1">
				<input type="text" id="input" class="materialfield" />
				<input type="button" class="roundmaterial blue" id="insert" value="CLICK">
				<input type="button" class="linux red"/>
				<input type="button" class="linux blue"/>
				<input type="button" class="linux green"/>
		 	</section>
			<section id="content2">
				<p>
				   <input type="button" class="roundmaterial blue" value="Показать" id="button3"/>
				</p>
			</section> 
			<section id="content3"> 
				<div id="datepicker"></div><br>
				<div id="slider"></div>
				<button id="dialog_opener"> jquery button</button>
			</section> 
			<section id="content4"> 
				<div id="login_button" onclick="VK.Auth.login(authInfo);"></div>
				<div id="drag_in" ondragenter="dragIn(event)" ondragover="dragIn(event)" ondrop="return Drop(event);"></div>
				<script language="javascript">
					/*VK.init({
						apiId: 5124030 
					});
					function authInfo(response) {
						if (response.session) {
							alert('user: '+response.session.mid);
						} else {
							alert('not auth');
						}
					}
					VK.Auth.getLoginStatus(authInfo);
					VK.UI.button('login_button');
					VK.Api.call('friends.get', {fields: "uid, first_name, last_name, photo" }, function (w) {
						if(w.response) {
							console.log(w.response);
							//alert('Привет, ' + w.response[0].first_name);
						}
					});*/					
				</script>
			</section> 
		</div>
		<div id="message_box">
			<img src="css/cross.png" id="close_image" style="float:right; cursor:pointer;" alt=""/>
			This is inside message and now we are trying to change row <br>this hte next row
		</div>
	</body>
</html>
